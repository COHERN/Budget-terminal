:root{
  --paper:#FAFAF8;      /* off-white */
  --card:#FFFFFF;
  --ink:#1A1A1A;        /* charcoal */
  --muted:#6B7280;
  --rule:#D6D6D6;
  --accent:#C9A227;     /* ochre */
  --success:#2D5A27;    /* forest */
  --warning:#C76E28;    /* orange */
  --danger:#611A1A;     /* oxblood */
}

*{box-sizing:border-box}
html,body{
  margin:0;padding:0;color:var(--ink);
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Courier New', monospace;
  background-color: var(--paper);
  background-image:
    linear-gradient(rgba(0,0,0,0.05) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0,0,0,0.05) 1px, transparent 1px),
    radial-gradient(rgba(0,0,0,0.015) 1px, transparent 1px);
  background-size: 24px 24px, 24px 24px, 8px 8px;
  background-attachment: fixed;
}
#app{min-height:100vh}
.hidden{display:none !important}

/* Splash */
.splash {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  padding: 24px;
  max-width: 900px;
  background: var(--card);
  border: 1px solid var(--rule);
  border-radius: 8px;
  box-shadow: 0 1px 0 rgba(0,0,0,.04) inset, 0 8px 24px rgba(0,0,0,.04);
  text-align: center;
  opacity: 1;
  transition: opacity 0.6s ease, visibility 0.6s ease;
}

.splash.hidden {
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
}

.splash pre { color: var(--ink); }

.cursor {
  color: var(--accent);
  animation: blink 750ms steps(1) infinite;
}

@keyframes blink {
  50% { opacity: 0; }
}

/* Tabs */
.tabs{display:flex;gap:8px;align-items:center;padding:12px 16px;max-width:1100px;margin:0 auto}
.brand{color:var(--accent);font-weight:700}
.spacer{flex:1}
.tab{background:transparent;color:var(--ink);border:1px solid var(--rule);
  padding:10px 16px;border-radius:12px;cursor:pointer;user-select:none}
.tab.active{outline:2px solid var(--accent)}

/* Panes */
.tabpane{display:none;max-width:1100px;margin:0 auto;padding:0 16px 24px}
.tabpane.active{display:block}

/* Card */
.card{background:rgba(255,255,255,0.94);border-radius:14px;padding:16px;border:1px solid rgba(0,0,0,0.08);
  box-shadow:0 1px 0 rgba(0,0,0,.03) inset}

/* Headings */
h2{margin:.25rem 0 1rem 0;font-weight:800}

/* Layout */
.grid2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.grid3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px}
.row{display:flex;align-items:center}.gap{gap:12px}

/* Inputs */
label{display:flex;flex-direction:column;gap:6px;font-size:14px;color:var(--muted)}
.inputWrap{position:relative;display:flex;align-items:center}
.inputWrap .prefix{position:absolute;left:10px;color:var(--muted)}
.inputWrap input{padding:12px 12px 12px 22px;width:100%;border:1px solid var(--rule);border-radius:10px;background:#fff;color:var(--ink)}
.inputWrap.small input{padding-left:18px}
input:focus{outline:2px solid var(--accent)}

/* KPIs */
.kpi{font-size:20px;font-weight:800;color:var(--ink)}
.muted{color:var(--muted)}
.small{font-size:12px}

/* Pills */
.pill{display:inline-block;padding:8px 14px;border-radius:999px;border:1px solid transparent;font-weight:800}
.pill.success{background:rgba(45,90,39,.10);border-color:var(--success);color:var(--success)}
.pill.warning{background:rgba(199,110,40,.10);border-color:var(--warning);color:var(--warning)}
.pill.danger{background:rgba(97,26,26,.10);border-color:var(--danger);color:var(--danger)}

.actions{display:flex;gap:12px;margin:10px 0 2px}

/* Buttons */
.btn{background:#fff;border:1px solid var(--rule);color:var(--ink);padding:10px 14px;border-radius:10px;cursor:pointer}
.btn:hover{filter:brightness(0.98)}
.btn.ghost{background:transparent}
.btn.danger{border-color:var(--danger);color:var(--danger)}

/* Table */
table{width:100%;border-collapse:collapse;margin-top:12px}
th,td{border-bottom:1px solid var(--rule);padding:10px;text-align:left}
td.center{text-align:center}

/* Note */
.cadence{opacity:.8;margin-top:10px;color:var(--muted)}
.cadence span {
  display: block;
  margin-top: 2px;
  color: var(--muted);
}
/* Mobile */
@media (max-width:720px){
  .grid2,.grid3{grid-template-columns:1fr}
}

/* Ensure splash never blocks taps after hide */
#splash.hidden{opacity:0;visibility:hidden;pointer-events:none;transition:opacity .3s ease}
/* Ensure tabs are clickable on iOS */
.tabs .tab {
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}
.today { margin-left: 12px; white-space: nowrap; }

/* Bills inside calendar cells */
.cal__hdr {
  display:flex; justify-content:space-between; align-items:center;
  font-weight:800; font-size:28px; margin-bottom:8px;
}
.cal__wk {
  display:grid; grid-template-columns:repeat(7,1fr);
  font-weight:700; text-align:center; margin-bottom:4px; font-size:12px;
}
.cal__grid {
  display:grid; grid-template-columns:repeat(7,1fr);
  border-top:1px solid var(--rule);
  border-left:1px solid var(--rule);
}
.cal__cell {
  position:relative; min-height:100px; border-right:1px solid var(--rule);
  border-bottom:1px solid var(--rule); padding:4px;
  vertical-align:top; font-size:12px; overflow:hidden;
}
.cal__num {
  font-weight:700; margin-bottom:2px;
}
.cal__num--accent {
  color:var(--danger);
}
.cal__list {
  position:absolute; left:8px; right:8px; top:22px; bottom:6px;
  display:flex; flex-direction:column; gap:2px;
}
.cal__item {
  font-size:11px; line-height:1.2;
  padding:2px 4px; border-radius:4px;
  border:1px solid rgba(0,0,0,.12); background:#fff;
  overflow:hidden; text-overflow:ellipsis; white-space:nowrap;
}
.cal__item--paid {
  opacity:.5; text-decoration:line-through;
}
.cal__item--due {
  border-color: var(--danger);
}

#exportBtn,
.file { display: none !important; }

/* Stronger input visuals */
.inputWrap input{
  padding:12px 12px 12px 22px;
  width:100%;
  border:1.5px solid #cfcfcf;         /* thicker, higher-contrast */
  border-radius:10px;
  background:#fff;
  color:var(--ink);
  box-shadow: inset 0 1px 2px rgba(0,0,0,.06);  /* subtle inset depth */
}

/* Clearer focus */
input:focus{
  outline:2px solid var(--accent);
  background:#fff;
  box-shadow: 0 0 0 3px rgba(201,162,39,.18);   /* accent glow */
}

/* Friendlier placeholder */
.inputWrap input::placeholder{ color:#9CA3AF; }

/* Stronger input contrast & focus */
.inputWrap input{
  border:1.5px solid var(--rule);
  background:#fff;
}
input:focus{
  outline:2px solid var(--accent);
  box-shadow:0 0 0 3px rgba(201,162,39,.15);
}

/* Larger tap targets on mobile */
@media (max-width:720px){
  .btn{ padding:12px 16px }
  .inputWrap input{ padding:14px 14px 14px 24px }
}

@media print{
  body{ background:none; }
  #app > *{ display:none !important; }
  #calSheet{ display:block !important; }
  .cal{ width:100%; }
}

/* ===== Calendar (Field Notes style) ===== */
.cal {
  /* page frame */
  background:#fff;
  padding:24px 28px 28px;
  border:1px solid #e6e6e6;
  border-radius:8px;
  max-width:900px;
  margin:0 auto;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  color:#1a1a1a;
}

/* top red rule + month wordmark + side years */
.cal__hdr{
  position:relative;
  margin-bottom:16px;
  padding-top:8px;
}
.cal__hdr::before{
  content:"";
  position:absolute; left:0; right:0; top:0;
  height:4px; background:#e2554a; /* Field Notes red */
  border-radius:2px;
}
.cal__month{
  text-align:center;
  font-weight:800;
  letter-spacing:0.08em;
  font-size:40px;
  line-height:1.1;
  text-transform:uppercase;
}
.cal__yr--left,
.cal__yr--right{
  position:absolute; top:2px;
  font-weight:700; color:#b2b2b2; font-size:20px;
}
.cal__yr--left{ left:0; }
.cal__yr--right{ right:0; }

/* weekday strip */
.cal__wk{
  display:grid; grid-template-columns:repeat(7,1fr);
  gap:0;
  border:1px solid #e6e6e6; border-bottom:none;
  background:#fafafa;
}
.cal__wk > div{
  padding:10px 8px;
  text-align:center;
  font-weight:700;
  letter-spacing:0.06em;
  font-size:12px;
  color:#6b7280;
}

/* grid */
.cal__grid{
  display:grid; grid-template-columns:repeat(7,1fr);
  border:1px solid #e6e6e6;
}
.cal__cell{
  min-height:92px;
  border-right:1px solid #e6e6e6;
  border-top:1px solid #e6e6e6;
  padding:8px 8px 10px;
  position:relative;
}
.cal__cell:nth-child(7n){ border-right:none; }        /* end of row */

/* shade weekends lightly (Field Notes vibe) */
.cal__cell:nth-child(7n+1){ background:#fcfcfc; }     /* Sunday column */
.cal__cell:nth-child(7n){   background:#fcfcfc; }     /* Saturday column */

/* big day number */
.cal__num{
  font-weight:800;
  font-size:22px;
  line-height:1;
  color:#2b2b2b;
}
.cal__num--accent{ color:#e2554a; }                  /* Sundays in red */

/* bill list inside each day */
.cal__list{ margin-top:6px; display:flex; flex-direction:column; gap:3px; }
.cal__item{ font-size:12px; line-height:1.2; color:#333; }
.cal__item--paid{ color:#8aa67a; }                   /* paid = muted green */
.cal__item--due{  color:#222; }

@media print{
  /* Fill letter page nicely; hide app chrome */
  @page{ size: Letter; margin: 0.5in; }
  nav.tabs, .tabs, .card:not(:has(.cal)), #splash{ display:none !important; }
  body{ background:#fff !important; }
  .cal{ border:none; box-shadow:none; margin:0; padding:0; }
}

/* ===== Field Notes paper look (SCREEN + PRINT) ===== */

/* Base calendar styling (applies on screen) */
.cal{
  background:#fff;
  color:#1A1A1A;
  max-width:900px;
  margin:0 auto;
  border:1px solid #e6e6e6;
  border-radius:8px;
  padding:24px 28px 28px;

  /* Paper dot/graph texture */
  background-image:
    linear-gradient(rgba(0,0,0,0.05) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0,0,0,0.05) 1px, transparent 1px);
  background-size:24px 24px, 24px 24px;
  background-position:0 0, 0 0;
}

/* Header with red rule + month */
.cal__hdr{
  position:relative;
  margin-bottom:16px;
  padding-top:8px;
  text-transform:uppercase;
  letter-spacing:.06em;
  font-weight:800;
}
.cal__hdr::before{
  content:"";
  position:absolute; left:0; right:0; top:0;
  height:4px; background:#e2554a; border-radius:2px;
}
.cal__month{ text-align:center; font-size:40px; line-height:1.1; }
.cal__yr--left,.cal__yr--right{
  position:absolute; top:2px; font-weight:700; color:#a8a8a8; font-size:18px;
}
.cal__yr--left{ left:0; } .cal__yr--right{ right:0; }

/* Weekday bar */
.cal__wk{
  display:grid; grid-template-columns:repeat(7,1fr);
  border:1px solid #e6e6e6; border-bottom:none;
  background:#fafafa;
}
.cal__wk > div{
  padding:10px 8px; text-align:center; font-weight:700;
  letter-spacing:.06em; font-size:12px; color:#6b7280;
}

/* Day grid */
.cal__grid{ display:grid; grid-template-columns:repeat(7,1fr); border:1px solid #e6e6e6; }
.cal__cell{
  min-height:92px; padding:8px 8px 10px; position:relative;
  border-right:1px solid #e6e6e6; border-top:1px solid #e6e6e6;

  /* Faint horizontal ruling inside each day */
  background-image:
    repeating-linear-gradient(
      to bottom,
      rgba(0,0,0,0.06) 0,
      rgba(0,0,0,0.06) 1px,
      transparent 1px,
      transparent 24px
    );
  background-size:100% 24px;
  background-position:0 26px; /* start below the day number */
}
.cal__cell:nth-child(7n){ border-right:none; }

/* Subtle weekend tint */
.cal__cell:nth-child(7n+1),
.cal__cell:nth-child(7n){
  background-color:#fcfcfc;
}

.cal__num{ font-weight:800; font-size:22px; line-height:1; color:#2b2b2b; }
.cal__num--accent{ color:#e2554a; } /* Sundays in red */

.cal__list{ margin-top:6px; display:flex; flex-direction:column; gap:3px; }
.cal__item{ font-size:12px; line-height:1.2; color:#333; }
.cal__item--paid{ color:#8aa67a; }  /* paid = muted green */
.cal__item--due{  color:#222; }

/* Mobile fit */
@media (max-width:720px){
  .cal{ padding:16px; }
  .cal__month{ font-size:28px; }
  .cal__cell{ min-height:72px; }
}

/* Print tweaks keep working */
@media print{
  @page{ size: Letter; margin: .5in; }
  body{ background:#fff !important; -webkit-print-color-adjust:exact; color-adjust:exact; }
  nav, .tabs, #splash, #main > :not(section#tab-bills){ display:none !important; }
  .cal{ border:none; box-shadow:none; margin:0; padding:.25in; max-width:8in; }
}

/* === Always show Field Notes paper style on-screen too === */
body, #app {
  background-color: #fefdf9; /* warm off-white paper base */
  background-image:
    linear-gradient(rgba(0,0,0,0.04) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0,0,0,0.04) 1px, transparent 1px);
  background-size: 24px 24px;
  background-attachment: fixed;
}

/* Give all cards subtle lift over the paper grid */
.card {
  background: rgba(255,255,255,0.9);
  box-shadow: 0 2px 6px rgba(0,0,0,0.05);
  border: 1px solid rgba(0,0,0,0.08);
}

/* Reduce harsh white from calendar if shown inline */
.cal {
  background: rgba(255,255,255,0.92);
  box-shadow: 0 1px 4px rgba(0,0,0,0.08);
}
